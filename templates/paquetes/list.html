{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h2 class="text-center mb-4">Lista de Paquetes</h2>

  <div class="d-flex justify-content-end mb-3">
    <a class="btn btn-success" href="{{ url_for('paquetes.add_paquete') }}">
      <i class="bi bi-plus-lg"></i> Agregar Paquete
    </a>
  </div>

  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <i class="bi bi-box-seam"></i> Paquetes Disponibles
    </div>
    <div class="card-body table-responsive">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Precio (Bs)</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          {% for p in paquetes %}
          <tr>
            <td>{{ p['id_destino'] }}</td>
            <td>{{ p['nombre'] }}</td>
            <td>Bs{{ '{:.2f}'.format(p['precio']) }}</td>
            <td>
              <a class="btn btn-sm btn-success me-1" href="{{ url_for('reservas.reservar', id_paquete=p['id_destino']) }}">
                <i class="bi bi-calendar-check"></i> Reservar
              </a>
              <a class="btn btn-sm btn-warning me-1" href="{{ url_for('paquetes.edit_paquete', id_destino=p['id_destino']) }}">
                <i class="bi bi-pencil-square"></i> Editar
              </a>
              <form method="POST" action="{{ url_for('paquetes.delete_paquete', id_destino=p['id_destino']) }}" style="display:inline;" onsubmit="return confirm('¿Eliminar paquete?');">
                <button class="btn btn-sm btn-danger">
                  <i class="bi bi-trash"></i> Eliminar
                </button>
              </form>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="4" class="text-center text-muted">No hay paquetes disponibles.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
